webpackJsonp([7],{C6aH:function(t,e){},Ca2n:function(t,e){},h5db:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("XiPb"),s=a("mYEk"),l=(a("zL8q"),{props:["order"],name:"all-order-table",data:function(){return{expandAll:!1,orderList:[],total_page:0,current_page:1,OMstatus:""}},components:{Pagination:s.a},methods:{orderDetails:function(t){var e=t.OMid;this.$router.push({path:"/order/orderDetails",query:{OMid:e}})},getOrderList:function(t){this.orderList=t.OrderMains,this.total_page=Math.ceil(t.count/t.page_size)},pageChange:function(t){if(t==this.current_page)return this.$message({message:"这已经是第"+t+"页数据了",type:"warning"}),!1;this.current_page=t,this.$emit("toPage",t)}}}),r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"order-table"},[a("el-table",{staticClass:"out-table",staticStyle:{width:"100%"},attrs:{data:t.orderList,"default-expand-all":t.expandAll,stripe:"",size:"mini"}},[a("el-table-column",{attrs:{type:"selection",width:"30"}}),t._v(" "),a("el-table-column",{attrs:{type:"expand",width:"30"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-table",{staticClass:"demo-table-expand",staticStyle:{width:"100%"},attrs:{data:e.row.order_item,border:"",stripe:"",size:"mini"}},[a("el-table-column",{attrs:{align:"center",prop:"PBimage",label:"商品图片"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticStyle:{width:"0.5rem",height:"0.5rem"},attrs:{src:t.row.PBimage,alt:""}})]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"PRname",label:"商品名称"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"PBprice",label:"单价"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"PRnumber",label:"数量"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"PBunit",label:"价格单位"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"PRinfo",label:"商品简介"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"PRtype",label:"商品类型"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"PRbrand",label:"商品分类"}})],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"订单号",prop:"OMid",width:"320"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"订单状态",prop:"OMstatus",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"订单价格",prop:"OMprice",width:"90"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"下单时间",prop:"OMtime",width:"200"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"订单备注",prop:"OMabo"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作",width:"150",fixed:"right"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"order-details",attrs:{size:"mini"},on:{click:function(a){t.orderDetails(e.row)}}},[t._v("订单详情\n        ")])]}}])})],1),t._v(" "),a("div",{staticClass:"page-button"},[a("Pagination",{attrs:{total:t.total_page},on:{pageChange:t.pageChange}})],1)],1)},staticRenderFns:[]};var n=a("VU/8")(l,r,!1,function(t){a("C6aH")},"data-v-1711a10b",null).exports,c=a("P9l9"),o=a("mtWM"),d=a.n(o),h=(a("YaEn"),{data:function(){return{name:"所有订单",activeName:"全 部",pickerOptions2:{shortcuts:[{text:"最近一周",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-6048e5),t.$emit("pick",[a,e])}},{text:"最近一个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-2592e6),t.$emit("pick",[a,e])}},{text:"最近三个月",onClick:function(t){var e=new Date,a=new Date;a.setTime(a.getTime()-7776e6),t.$emit("pick",[a,e])}}]},OMtime:null,OMlogisticsNameSearch:"",OMlogisticsNameList:[],lazyStatus:!1,PRnameSearch:"",OMidSearch:"",orderList:[],search:{},order:{},page_size:10,OMstatus:"",OMstartTime:"",OMendTime:"",tabList:["全 部","已取消","未支付","支付中","已支付","已发货","已收货","已完成","已评价","退款中"],index:0}},components:{pageTitle:i.a,allOrderTable:n},methods:{freshClick:function(){console.log("fresh")},handleClick:function(t){9==t.index?this.index=0:this.index=parseInt(t.index)+1,"全 部"==t.name?this.OMstatus="":this.OMstatus=t.name,-1==t.label.indexOf("0")&&this.getData(1)},getData:function(t){var e=this,a={token:localStorage.getItem("token"),OMstatus:this.OMstatus,page_num:t,page_size:this.page_size,OMid:"",OMlogisticsName:"",PRname:"",OMstartTime:"",OMendTime:""};""!=this.search&&(a.OMid=this.search.OMid,a.OMlogisticsName=this.search.OMlogisticsName,a.PRname=this.search.PRname,a.OMstartTime=this.search.OMstartTime,a.OMendTime=this.search.OMendTime),d.a.get(c.a.get_all_order,{params:a}).then(function(t){200==t.data.status?(e.orderList=t.data.data.OrderMains,e.order=t.data.data,3==e.tabList[0].length&&e.getTabs(e.order.OMcount)):e.$message.error(t.data.message)})},getTabs:function(t){var e=0;this.tabList[0]=this.tabList[0]+"("+this.orderList.length+")";for(var a=1;a<this.tabList.length;a++)e=7*(a-1),this.tabList[a]=this.tabList[a]+"("+t[e]+")"},topSearch:function(){this.OMstatus="",null==this.OMtime&&""==this.PRnameSearch&&""==this.OMidSearch&&""==this.OMlogisticsNameSearch||(null!=this.OMtime?(this.OMstartTime=this.OMtime[0]+" 00:00:00",this.OMendTime=this.OMtime[1]+" 23:59:59"):null==this.OMtime&&(this.OMstartTime="",this.OMendTime="")),this.search={OMid:this.OMidSearch,OMlogisticsName:this.OMlogisticsNameSearch,PRname:this.PRnameSearch,OMstartTime:this.OMstartTime,OMendTime:this.OMendTime},this.tabList=["全 部","已取消","未支付","支付中","已支付","已发货","已收货","已完成","已评价","退款中"],this.getData(1)},getOMlogisticsNameList:function(){var t=this;d.a.get(c.a.get_omfilter).then(function(e){if(200==e.data.status)for(var a=0;a<e.data.data.length;a++)"OMlogisticsName"==e.data.data[a].key&&(t.OMlogisticsNameList=e.data.data[a].value);else t.$message.error(e.data.message)})}},created:function(){this.getData(1),this.getOMlogisticsNameList()},watch:{order:function(t,e){this.$refs.child[this.index].getOrderList(t)}}}),m={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"all-order"},[a("page-title",{attrs:{title:t.name},on:{freshClick:t.freshClick}}),t._v(" "),a("div",{staticClass:"all-order-content"},[a("div",{staticClass:"all-order-search"},[a("div",{staticClass:"order-search-one"},[a("div",{staticClass:"search-text-input"},[a("div",{staticClass:"search-text",staticStyle:{"margin-left":"0.51rem"}},[t._v("订单号：")]),t._v(" "),a("el-input",{attrs:{size:"mini",placeholder:"请输入订单号",clearable:""},model:{value:t.OMidSearch,callback:function(e){t.OMidSearch=e},expression:"OMidSearch"}})],1),t._v(" "),a("div",{staticClass:"search-text-input"},[a("div",{staticClass:"search-text"},[t._v("物流方式：")]),t._v(" "),a("el-select",{attrs:{placeholder:"请选择",size:"mini",clearable:""},model:{value:t.OMlogisticsNameSearch,callback:function(e){t.OMlogisticsNameSearch=e},expression:"OMlogisticsNameSearch"}},t._l(t.OMlogisticsNameList,function(t){return a("div",[a("el-option",{attrs:{label:t,value:t}})],1)}))],1)]),t._v(" "),a("div",{staticClass:"order-search-two"},[a("div",{staticClass:"search-text-input"},[a("div",{staticClass:"search-text"},[t._v("商品名称：")]),t._v(" "),a("el-input",{attrs:{size:"mini",placeholder:"请输入商品名称",clearable:""},model:{value:t.PRnameSearch,callback:function(e){t.PRnameSearch=e},expression:"PRnameSearch"}})],1),t._v(" "),a("div",{staticClass:"search-text-input",staticStyle:{width:"5rem"}},[a("div",{staticClass:"search-text"},[t._v("下单时间：")]),t._v(" "),a("div",{staticClass:"block"},[a("el-date-picker",{attrs:{type:"daterange","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":t.pickerOptions2,size:"mini","value-format":"yyyy-MM-dd"},model:{value:t.OMtime,callback:function(e){t.OMtime=e},expression:"OMtime"}})],1)])]),t._v(" "),a("div",{staticClass:"search-buttons"},[a("el-button",{staticClass:"search-button",attrs:{size:"mini"},on:{click:t.topSearch}},[t._v("查询")]),t._v(" "),a("el-button",{staticClass:"search-button",attrs:{size:"mini"}},[t._v("批量导出")])],1)]),t._v(" "),a("div",{staticClass:"all-order-tabs"},[a("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.tabList,function(e){return a("div",[a("el-tab-pane",{attrs:{label:e,name:e.slice(0,3),lazy:t.lazyStatus}},[a("all-order-table",{ref:"child",refInFor:!0,attrs:{order:t.order},on:{toPage:t.getData}})],1)],1)}))],1)])],1)},staticRenderFns:[]};var u=a("VU/8")(h,m,!1,function(t){a("Ca2n")},"data-v-f4c44d38",null);e.default=u.exports}});
//# sourceMappingURL=7.eb8c9322254737f759ee.js.map